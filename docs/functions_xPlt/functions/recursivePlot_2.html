<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of recursivePlot_2</title>
  <meta name="keywords" content="recursivePlot_2">
  <meta name="description" content="% varargout = recursivePlot(xp,function_handles,dimensions,function_handle_arguments)">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html functions_xPlt --><!-- menu.html functions -->
<h1>recursivePlot_2
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>% varargout = recursivePlot(xp,function_handles,dimensions,function_handle_arguments)</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function varargout = recursivePlot_2(xp,function_handles,dimensions,function_handle_arguments) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% varargout = recursivePlot(xp,function_handles,dimensions,function_handle_arguments)
     Purpose: Takes in multidimensional data and a set of function handles for
     plotting. Function handles operate on low-dimensional subspaces. 
     recursivePlot assigns the high dimensional data in xp to the plotting
     functions until all dimensions have been used up.
 
     Forms:
         varargout = recursivePlot_2(xp,function_handles,dimensions)
         varargout = recursivePlot_2(xp,function_handles,dimensions,function_handle_arguments)
 
     Inputs:
       xp                          : xPlt structure with Nd dimensions
 
       function_handles            : 1xNd+1 cell array of function handles. See below
                                     for function handle specifications.
 
       dimensions                  : 1xNd cell array of vectors. Each vector corresponds
                                     to a function handle. Specifies which dimensions
                                     in xp to assign to each function handle.
 
       function_handle_arguments   : (optional) 1xNd cell array of cell arrays, each containing
                                     additional arguments to pass to each function
                                     handle. There should be one cell array for
                                     each function handle.
 
     Details:
       The function_handles cell array should point to functions of the form:
             varargout = function func (xp,varargin)
       where xp is an xPlt object. Each function handle</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../functions_xPlt/classes/@xPlt/recursivePlot_2.html" class="code" title="function varargout = recursivePlot_2(xp,function_handles,dimensions,function_handle_arguments)">recursivePlot_2</a>	function_handle_arguments - cell array of argument cell arrays to pass to</li><li><a href="recursivePlot_2.html" class="code" title="function varargout = recursivePlot_2(xp,function_handles,dimensions,function_handle_arguments)">recursivePlot_2</a>	% varargout = recursivePlot(xp,function_handles,dimensions,function_handle_arguments)</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="recursivePlot_2.html" class="code" title="function varargout = recursivePlot_2(xp,function_handles,dimensions,function_handle_arguments)">recursivePlot_2</a>	% varargout = recursivePlot(xp,function_handles,dimensions,function_handle_arguments)</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function_handles{1} cycles through all the entries in xp2</a></li><li><a href="#_sub2" class="code">function_handle_arguments = cell(size(function_handles));</a></li><li><a href="#_sub3" class="code">function_handle_arguments{i} = {};</a></li><li><a href="#_sub4" class="code">function_handles(2:end),dimensions(2:end),function_handle_arguments(2:end));</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 
0002 <a name="_sub0" href="#_subfunctions" class="code">function varargout = recursivePlot_2(xp,function_handles,dimensions,function_handle_arguments)</a>
0003 <span class="comment">%% varargout = recursivePlot(xp,function_handles,dimensions,function_handle_arguments)</span>
0004 <span class="comment">%     Purpose: Takes in multidimensional data and a set of function handles for</span>
0005 <span class="comment">%     plotting. Function handles operate on low-dimensional subspaces.</span>
0006 <span class="comment">%     recursivePlot assigns the high dimensional data in xp to the plotting</span>
0007 <span class="comment">%     functions until all dimensions have been used up.</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%     Forms:</span>
0010 <span class="comment">%         varargout = recursivePlot_2(xp,function_handles,dimensions)</span>
0011 <span class="comment">%         varargout = recursivePlot_2(xp,function_handles,dimensions,function_handle_arguments)</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%     Inputs:</span>
0014 <span class="comment">%       xp                          : xPlt structure with Nd dimensions</span>
0015 <span class="comment">%</span>
0016 <span class="comment">%       function_handles            : 1xNd+1 cell array of function handles. See below</span>
0017 <span class="comment">%                                     for function handle specifications.</span>
0018 <span class="comment">%</span>
0019 <span class="comment">%       dimensions                  : 1xNd cell array of vectors. Each vector corresponds</span>
0020 <span class="comment">%                                     to a function handle. Specifies which dimensions</span>
0021 <span class="comment">%                                     in xp to assign to each function handle.</span>
0022 <span class="comment">%</span>
0023 <span class="comment">%       function_handle_arguments   : (optional) 1xNd cell array of cell arrays, each containing</span>
0024 <span class="comment">%                                     additional arguments to pass to each function</span>
0025 <span class="comment">%                                     handle. There should be one cell array for</span>
0026 <span class="comment">%                                     each function handle.</span>
0027 <span class="comment">%</span>
0028 <span class="comment">%     Details:</span>
0029 <span class="comment">%       The function_handles cell array should point to functions of the form:</span>
0030 <span class="comment">%             varargout = function func (xp,varargin)</span>
0031 <span class="comment">%       where xp is an xPlt object. Each function handle</span>
0032 warning(<span class="string">'finish this'</span>);
0033 <span class="comment">%</span>
0034 <span class="comment">%     Algorithm:</span>
0035 <span class="comment">%     recursivePlot plots the data in a recursive manner. It does the following</span>
0036 <span class="comment">%         1. Creates a new xPlt structure called xp2, which is a low-dimensional</span>
0037 <span class="comment">%            version of xp. The dimensions of xp2 are given by dimensions{1}.</span>
0038 <span class="comment">%</span>
0039 <span class="comment">%         2. recusrivePlot then passes xp2 to the first function handle,</span>
0040 <span class="comment">%            function_handles{1}.</span>
0041 <span class="comment">%</span>
0042 <span class="comment">%            Each entry in xp2.data contains a function handle that recursively</span>
0043 <span class="comment">%            calls back recursivePlot. This serves as simply an instruction</span>
0044 <span class="comment">%            to handle plotting the remainder of the dimensions in xp (e.g.</span>
0045 <span class="comment">%            dimensions(2:end)).</span>
0046 <span class="comment">%</span>
0047 <span class="comment">%            function_handles{1} loops through xp2.data and executes these</span>
0048 <span class="comment">%            function handles, thus producing plots of xp's remaining dimensions.</span>
0049 <span class="comment">%</span>
0050 <span class="comment">%         3. The stopping conditions for the recursion are reached when xp runs</span>
0051 <span class="comment">%            out of dimensions. In this case, the final function handle receives</span>
0052 <span class="comment">%            a xp object with size(xp) = 1. Thus, the final function handle should</span>
0053 <span class="comment">%            actually plot the data.</span>
0054 <span class="comment">%</span>
0055 <span class="comment">%     Example</span>
0056 <span class="comment">%         See demos_xPlt.m</span>
0057            
0058            <span class="keyword">for</span> plotting the 
0059                <a name="_sub1" href="#_subfunctions" class="code">function_handles{1} cycles through all the entries in xp2</a>
0060            The dimensions of xp2 are sz(dimensions{1}), where
0061            sz = size(xp). xp2.data contains a <span class="keyword">function</span> handle. This <span class="keyword">function</span>
0062            handle is a recursive call to 
0063         2. Calls function_handles{1} and passes it xp2.
0064         3. 
0065         
0066         Takes dimensions{1} from xp and creates a new 
0067 
0068         Examples:
0069             See demos file.
0070 
0071 
0072 <span class="comment">%     function_handle_arguments - cell array of argument cell arrays to pass to</span>
0073 <span class="comment">%     function_handles. Must have one cell array for each function_handle</span>
0074 <span class="comment">%     passed. Use empty cell arrays for no arguments. E.g.</span>
0075 <span class="comment">%     function_handle_arguments = { {}, {}, {1} } for nothing, nothing, and</span>
0076 <span class="comment">%     1 as arguments.</span>
0077     
0078     <span class="keyword">if</span> nargin &lt; 4
0079         <a name="_sub2" href="#_subfunctions" class="code">function_handle_arguments = cell(size(function_handles));</a>
0080         <span class="keyword">for</span> i = 1:length(function_handle_arguments)
0081             <a name="_sub3" href="#_subfunctions" class="code">function_handle_arguments{i} = {};</a>
0082         <span class="keyword">end</span>
0083     <span class="keyword">end</span>
0084 
0085     sz = size(xp);
0086     <span class="keyword">if</span> length(function_handles) &gt; 1
0087         
0088         <span class="comment">% xp_temp = permute(xp, [dimensions{1}, cell2mat(dimensions{2:end})]);</span>
0089         
0090         <span class="comment">% Set up a new xPlt object with dimensions matching current</span>
0091         <span class="comment">% function handle</span>
0092         xp2 = xp.reset;                         <span class="comment">% Create a new xPlt object</span>
0093         sz2 = sz(dimensions{1});
0094         ndims2 = length(dimensions{1});
0095         total_calls = prod(sz2);
0096         
0097         selection_curr = <a href="#_sub2" class="code" title="subfunction_handle_arguments = cell(size(function_handles));">cell</a>(1,length(sz));
0098         
0099         clear output_indices
0100         [xp2_indices{1:ndims2}] = ind2sub(sz2, 1:total_calls);      <span class="comment">% xp2 will loop through chosen dimensions</span>
0101         
0102         xp2_indices = num2cell(cat(1, xp2_indices{:})');
0103         
0104         xp_indices = <a href="#_sub2" class="code" title="subfunction_handle_arguments = cell(size(function_handles));">cell</a>(1, length(xp.axis));                      <span class="comment">% Initialize xp_indices</span>
0105         
0106         <span class="keyword">for</span> call = 1:total_calls
0107             
0108             xp_indices(dimensions{1}) = xp2_indices(call, :);
0109             
0110             xp2.data{xp2_indices{call, :}} = @() <a href="recursivePlot_2.html" class="code" title="function varargout = recursivePlot_2(xp,function_handles,dimensions,function_handle_arguments)">recursivePlot_2</a>(xp.subset(xp_indices{:}),<span class="keyword">...</span>
0111                 <a name="_sub4" href="#_subfunctions" class="code">function_handles(2:end),dimensions(2:end),function_handle_arguments(2:end));</a>
0112             
0113         <span class="keyword">end</span>
0114         
0115         <span class="comment">% Update axes</span>
0116         <span class="keyword">for</span> i = 1:length(dimensions{1})
0117             dim_curr = dimensions{1}(i);
0118             xp2.axis(i).values = xp.axis(dim_curr).values;
0119             xp2.axis(i).name = xp.axis(dim_curr).name;
0120         <span class="keyword">end</span>
0121         xp2 = xp2.fixAxes;
0122         
0123         [varargout{1:nargout}] = function_handles{1}(xp2,function_handle_arguments{1}{:});
0124         
0125     <span class="keyword">else</span>
0126         [varargout{1:nargout}] = function_handles{1}(xp,function_handle_arguments{1}{:});
0127     <span class="keyword">end</span>
0128 <span class="keyword">end</span>
0129             
0130</pre></div>
<hr><address>Generated on Fri 24-Feb-2017 14:46:35 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>